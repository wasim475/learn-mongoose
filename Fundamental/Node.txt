ржирзЛржб (Node) ржХрзА?
ржирзЛржб ржмрж▓рждрзЗ MongoDB-ржПрж░ ржПржХржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░ ржмрж╛ ржЗржирзНрж╕ржЯрзНржпрж╛ржирзНрж╕ ржмрзЛржЭрж╛рзЯ ржпрзЗржЦрж╛ржирзЗ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣рзЯред MongoDB рж╕рж┐ржЩрзНржЧрзЗрж▓ ржирзЛржб ржмрж╛ ржорж╛рж▓рзНржЯрж┐ржкрж▓ ржирзЛржб (рж░рж┐ржкрзНрж▓рж┐ржХрж╛ рж╕рзЗржЯ) ржирж┐рзЯрзЗ ржХрж╛ржЬ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

рж╕рж╛ржзрж╛рж░ржг ржнрж╛ржмрзЗ MongoDB-ржПрж░ ржжрзБржЗ ржзрж░ржирзЗрж░ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ ржЖржЫрзЗ:
Single Node (ржПржХржХ рж╕рж╛рж░рзНржнрж╛рж░) тЖТ ржПржХржЯрж┐ржорж╛рждрзНрж░ ржбрж╛ржЯрж╛ржмрзЗржЬ рж╕рж╛рж░рзНржнрж╛рж░ ржпрзЗржЦрж╛ржирзЗ рж╕ржм ржбрзЗржЯрж╛ ржерж╛ржХрзЗред
Replica Set (ржПржХрж╛ржзрж┐ржХ ржирзЛржб) тЖТ ржпрзЗржЦрж╛ржирзЗ ржПржХрж╛ржзрж┐ржХ рж╕рж╛рж░рзНржнрж╛рж░ ржПржХрж╕ржЩрзНржЧрзЗ ржХрж╛ржЬ ржХрж░рзЗ, ржПржмржВ ржПржХрзЗ ржЕржкрж░рзЗрж░ ржмрзНржпрж╛ржХржЖржк рж░рж╛ржЦрзЗред
ржЙржжрж╛рж╣рж░ржг ржжрж┐рзЯрзЗ ржирзЛржб ржмрзЛржЭрж╛ржирзЛ
ржЙржжрж╛рж╣рж░ржг рзз: ржмржЗрзЯрзЗрж░ ржжрзЛржХрж╛ржи (Single Node vs Replica Set)
ЁЯФ┤ Single Node Example (ржПржХржЯрж┐ ржирзЛржб)
ржзрж░рзЛ, рждрзЛржорж╛рж░ ржирж┐ржЬрзЗрж░ ржПржХржЯрж┐ ржмржЗрзЯрзЗрж░ ржжрзЛржХрж╛ржи ржЖржЫрзЗред рж╕ржм ржмржЗрзЯрзЗрж░ рждржерзНржп рж╢рзБржзрзБржорж╛рждрзНрж░ рждрзЛржорж╛рж░ ржХрж╛ржЫрзЗ ржЖржЫрзЗ, ржЕржирзНржп ржХрзЛржерж╛ржУ ржирзЗржЗред

ржпржжрж┐ рждрзЛржорж╛рж░ ржжрзЛржХрж╛ржи ржмржирзНржз рж╣рзЯрзЗ ржпрж╛рзЯ ржмрж╛ рждржерзНржп рж╣рж╛рж░рж┐рзЯрзЗ ржпрж╛рзЯ, рждрж╛рж╣рж▓рзЗ ржкрзБрж░рзЛ рждржерзНржп рж╣рж╛рж░рж┐рзЯрзЗ ржпрж╛ржмрзЗред
ЁЯЯв Replica Set Example (рждрж┐ржиржЯрж┐ ржирзЛржб)
ржПржмрж╛рж░ ржзрж░рзЛ, рждрзЛржорж╛рж░ рждрж┐ржиржЬржи ржХрж░рзНржоржЪрж╛рж░рзА ржЖржЫрзЗ, ржПржмржВ рждрж╛рж░рж╛ рждрж┐ржиржЯрж┐ ржЖрж▓рж╛ржжрж╛ ржЦрж╛рждрж╛рзЯ ржмржЗрзЯрзЗрж░ рждржерзНржп рж▓рж┐ржЦрзЗ рж░рж╛ржЦрзЗред

рждрзБржорж┐ (ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржирзЛржб) ржмржЗрзЯрзЗрж░ рждржерзНржп ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж▓рзЗ, рждрзЛржорж╛рж░ ржХрж░рзНржоржЪрж╛рж░рзАрж░рж╛ржУ (рж╕рзЗржХрзЗржирзНржбрж╛рж░рж┐ ржирзЛржб) рж╕рзЗржЯрж┐ ржХржкрж┐ ржХрж░рзЗ рж░рж╛ржЦрзЗред
ржпржжрж┐ рждрзЛржорж╛рж░ ржЦрж╛рждрж╛ рж╣рж╛рж░рж┐рзЯрзЗ ржпрж╛рзЯ (ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржбрж╛ржЙржи рж╣рзЯрзЗ ржпрж╛рзЯ), ржХрж░рзНржоржЪрж╛рж░рзАржжрзЗрж░ ржЦрж╛рждрж╛ ржерзЗржХрзЗ рждржерзНржп ржкрзБржирж░рзБржжрзНржзрж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗред
ржПржЯрж╛ржЗ MongoDB Replica Set-ржПрж░ ржзрж╛рж░ржгрж╛!

MongoDB-рждрзЗ ржирзЛржб ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?
Replica Set-ржПрж░ рждрж┐ржиржЯрж┐ ржкрзНрж░ржзрж╛ржи ржирзЛржб:
1я╕ПтГг Primary Node (ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржирзЛржб) тЖТ ржПржЯрж┐ ржорзВрж▓ рж╕рж╛рж░рзНржнрж╛рж░ ржпрзЗржЦрж╛ржирзЗ ржбрзЗржЯрж╛ рж▓рзЗржЦрж╛ (Write) ржУ ржкрзЬрж╛ (Read) рж╣рзЯред

2я╕ПтГг Secondary Node (рж╕рзЗржХрзЗржирзНржбрж╛рж░рж┐ ржирзЛржб) тЖТ ржПржЯрж┐ ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржерзЗржХрзЗ ржбрзЗржЯрж╛рж░ ржХржкрж┐ рж░рж╛ржЦрзЗ ржПржмржВ ржмрзНржпрж╛ржХржЖржк рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред

3я╕ПтГг Arbiter Node (ржЖрж░рзНржмрж┐ржЯрж╛рж░ ржирзЛржб) тЖТ ржПржЯрж┐ ржХрзЛржирзЛ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ ржирж╛, рж╢рзБржзрзБ ржнрзЛржЯрж┐ржВ-ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╕рж┐ржжрзНржзрж╛ржирзНржд ржирзЗрзЯ ржирждрзБржи ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржХрзЗ рж╣ржмрзЗред

ржЙржжрж╛рж╣рж░ржг рзи: ржмрзНржпрж╛ржВржХ рж╕рж┐рж╕рзНржЯрзЗржорзЗ ржирзЛржбрзЗрж░ ржнрзВржорж┐ржХрж╛
ржзрж░рзЛ, ржПржХржЯрж┐ ржмрзНржпрж╛ржВржХрзЗрж░ рж╕рж╛рж░рзНржнрж╛рж░ рж╕рж┐рж╕рзНржЯрзЗржо ржЖржЫрзЗ, ржпрзЗржЦрж╛ржирзЗ ржЗржЙржЬрж╛рж░ржжрзЗрж░ рж▓рзЗржиржжрзЗржи рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣рзЯред

ЁЯФ┤ ржПржХржЯрж┐ ржорж╛рждрзНрж░ ржирзЛржб (Single Node) ржерж╛ржХрж▓рзЗ:

ржпржжрж┐ рж╕рж╛рж░рзНржнрж╛рж░ ржирж╖рзНржЯ рж╣рзЯрзЗ ржпрж╛рзЯ, рждрж╛рж╣рж▓рзЗ рж╕ржорж╕рзНржд рж▓рзЗржиржжрзЗржирзЗрж░ рждржерзНржп рж╣рж╛рж░рж┐рзЯрзЗ ржпрж╛ржмрзЗ!
ЁЯЯв рждрж┐ржиржЯрж┐ ржирзЛржбрзЗрж░ (Replica Set) ржмрзНржпржмрж╕рзНржерж╛ ржерж╛ржХрж▓рзЗ:

ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржирзЛржб ржЯрж╛ржХрж╛ ржпрзЛржЧ-ржмрж┐рзЯрзЛржЧ (Write) ржХрж░рзЗред
рж╕рзЗржХрзЗржирзНржбрж╛рж░рж┐ ржирзЛржб рж╕рзЗржЗ рж▓рзЗржиржжрзЗржи ржХржкрж┐ ржХрж░рзЗ рж░рж╛ржЦрзЗред
ржпржжрж┐ ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржирзЛржб ржбрж╛ржЙржи рж╣рзЯрзЗ ржпрж╛рзЯ, рждрж╛рж╣рж▓рзЗ рж╕рзЗржХрзЗржирзНржбрж╛рж░рж┐ ржирзЛржб ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ рж╣рзЯрзЗ ржпрж╛ржмрзЗ ржПржмржВ рж▓рзЗржиржжрзЗржи ржЪрж╛рж▓рж┐рзЯрзЗ ржпрж╛ржмрзЗред
ржЙржжрж╛рж╣рж░ржг рзй: Facebook-ржПрж░ ржорждрзЛ ржмрзЬ ржкрзНрж▓рзНржпрж╛ржЯржлрж░рзНржорзЗ ржирзЛржбрзЗрж░ ржмрзНржпржмрж╣рж╛рж░
Facebook-ржП ржмрж┐рж▓рж┐рзЯржи ржмрж┐рж▓рж┐рзЯржи ржЗржЙржЬрж╛рж░рзЗрж░ ржбрзЗржЯрж╛ ржЖржЫрзЗ, ржпрж╛ ржПржХржХ ржирзЛржбрзЗ рж░рж╛ржЦрж╛ рж╕ржорзНржнржм ржирж╛ред
рждрж╛ржЗ ржЕржирзЗржХржЧрзБрж▓рзЛ ржирзЛржб (рж╕рж╛рж░рзНржнрж╛рж░) ржПржХрж╕ржЩрзНржЧрзЗ ржХрж╛ржЬ ржХрж░рзЗ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг, ржмрзНржпрж╛ржХржЖржк ржУ ржлрзЗржЗрж▓ржУржнрж╛рж░ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗред
MongoDB ржирзЛржбрзЗрж░ рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржзрж╛рж░ржгрж╛:
ржирзЛржб ржЯрж╛ржЗржк	ржХрж╛ржЬ
Primary Node	ржорзВрж▓ рж╕рж╛рж░рзНржнрж╛рж░, ржпрзЗржЦрж╛ржирзЗ ржбрзЗржЯрж╛ рж▓рзЗржЦрж╛ ржУ ржкрзЬрж╛ рж╣рзЯ
Secondary Node	ржмрзНржпрж╛ржХржЖржк рж░рж╛ржЦрзЗ ржПржмржВ ржкрзНрж░рзЯрзЛржЬржирзЗ ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ рж╣рзЯрзЗ ржпрж╛рзЯ
Arbiter Node	ржнрзЛржЯрж┐ржВ ржХрж░рзЗ ржирждрзБржи ржкрзНрж░рж╛ржЗржорж╛рж░рж┐ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ, ржХрж┐ржирзНрждрзБ ржбрзЗржЯрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ ржирж╛